<!DOCTYPE html>
<html>
<head>
  <title>Portfolio HOME page</title>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
</head>
<style>
button{
  border-style: outset;
align-items: center;
}

a{
  color: #333333;
  text-decoration: none;
}

body {
  font-family: "Open Sans", sans-serif;
  font-size: 20px;
  color: #666666;
  -webkit-font-smoothing: antialiased;
  padding: 80px;
  overflow-x: hidden;

}
textarea {
  font-family: "Open Sans", sans-serif;
}

button {
  border: none;
}
a,
button {
  -webkit-transition: all 0.3s ease;
  -o-transition: all 0.3s ease;
  transition: all 0.3s ease;
  cursor: pointer;
}
h1 {
  margin-top: 0;
}
p {
  line-height: 2;
  margin: 0;
}

.tm-container {
  max-width: 1200px;
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  position: relative;
}

/* http://w3bits.com/css-masonry/ */
.masonry {
  /* Masonry container */
  -webkit-column-count: 2;
  column-count: 2;
  -webkit-column-gap: 0;
  column-gap: 0;
}
.item {
  /* Masonry bricks or child elements */
  display: inline-block;
  margin: 0;
  width: 100%;
}

img {
  max-width: 100%;
  height: auto;
}

.tm-block {
  position: relative;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
  max-width: 600px;
}
.tm-block-left {
  right: 20px;
  top: 20px;
}
.tm-block-left-2 {
  right: 60px;
  top: 15px;
}
.tm-block-right {
  padding: 15px 0 20px 20px;
}
.tm-block-pad {
  padding: 67px 63px;
}
.tm-block-wider {
  max-width: 640px;
  width: calc(100% + 40px);
}

.tm-bg-white {
  background-color: #ffffff;
}
.tm-bg-dark {
  background-color: #333333;
}
.tm-bg-primary-light {
  background-color: #cc9999;
}
.tm-bg-primary-dark {
  background-color: #996666;
}
.tm-bg-secondary {
  background-color: #9999cc;
}
.tm-text-white {
  color: #ffffff;
}

.tm-text-right {
  text-align: right;
}
.tm-pb-0 {
  padding-bottom: 0 !important;
}
.tm-btn {
  padding: 15px 25px;
  display: inline-block;
  font-size: 1em;
  color: white;
  background-color: #35357a;
  display: inline-block;
  padding: 17px 45px;
}
.tm-form-group {
  margin-bottom: 25px;
}

input,
textarea {
  width: 100%;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #958ec0;
  padding: 18px 20px;
  font-size: 1em;
}

.topnav {
  overflow: hidden;
}
.topnav a {
  float: left;
  display: block;
  color: #f2f2f2;
  text-align: center;
  padding: 20px 20px;
  text-decoration: none;
}

@media (max-width: 1232px) {
  body {
    padding: 60px;
  }
}

@media (max-width: 1199px) {
  .masonry {
    /* Masonry container */
    -webkit-column-count: 1;
    column-count: 1;
  }

  .tm-container {
    max-width: 600px;
  }
}

@media (max-width: 540px) {

  .tm-contact-form {
    width: calc(100% - 20px);
  }
}

@media (max-width: 520px) {
  body {
    padding: 50px;
  }

  .tm-block-pad {
    padding: 45px;
  }

  .tm-hero-text {
    padding: 50px 45px 0;
  }
}

@media (max-width: 417px) {
  .tm-block-left,
  .tm-block-left-2 {
    right: 0;
  }

  .tm-block-wider {
    width: 100%;
  }
}

@media (max-width: 390px) {
  body {
    padding: 40px 20px 10px;
  }

  .tm-form-section-tag-inner {
    left: 25px;
    right: -25px;
    bottom: -25px;
  }
}

.captcha-container {
    margin: 20px 0;
    padding: 15px;
    border: 1px solid #958ec0;
    border-radius: 4px;
    background-color: #f8f8f8;
}

#captcha-question {
    font-size: 1.2em;
    font-weight: bold;
    margin-right: 10px;
    border-radius: 4px;
}

#captcha-answer {
    width: 150px;
    padding: 10px;
    margin-top: 10px;
}
</style>
<body class="tm-bg-dark" >
  <div class="topnav">
    <button> <a href="#C1" style="color:rgb(84, 2, 161);">Par mani </a> </button>
    <button> <a href="#C2" style="color:rgb(109, 1, 91);">GitHub</a> </button>
    <button> <a href="#C3" style="color:rgb(130, 3, 29);">Saziņa ar mani</a> </button>
  </div>

  <main class="tm-container masonry">

    <div class="item tm-bg-white tm-block tm-block-left" data-desktop-seq-no="1" data-mobile-seq-no="1">
      <div class="tm-block-pad tm-pb-0">
        <br>
        <header>
          <h1 id="C1" >Par mani</h1>
        </header>
        <p>es esmu Līva Boša, RTU Inženierzinātņu vidusskolas skolniece. </p>
        <br>
      </div>
    </div>

    <div class="item" data-desktop-seq-no="2" data-mobile-seq-no="4">
      <img src="https://img.freepik.com/premium-photo/blue-abstract-pattern-with-blue-background_1093939-24642.jpg?semt=ais_hybrid" alt="Image" class="tm-img-left">
    </div>

    <div class="item tm-bg-secondary tm-text-white tm-block tm-block-wider tm-block-pad tm-block-left-2" data-desktop-seq-no="3"
    data-mobile-seq-no="5">
      <br>
      <header>
        <h1 id="C3">Saziņa</h1>
      </header>
      <p>Ja Jūs vēlaties sazināties ar mani ievadiet savu e-pastu un ziņu</p>
      <form method="POST" action="portfolio.js">
        <div class="tm-form-group">
          <input type="email" id="email" name="email" class="form-control" placeholder="E-pasts" required/>
        </div>
        <div class="tm-form-group">
          <textarea rows="5" id="message" name="message" class="form-control" placeholder="Ziņa" required></textarea>
        </div>
        <div class="tm-form-group captcha-container">
          <label id="captcha-question" style="color: #333333; background-color: #ffffff; padding: 10px; display: inline-block;"></label>
          <input type="number" id="captcha-answer" name="captcha" class="form-control" placeholder="Ievadiet atbildi" required style="width: 150px; margin-top: 10px;"/>
      </div>
        <div class="tm-text-right">
          <button type="submit" class="tm-btn">Sūtīt</button>
        </div>
      </form> 
      <br>
    </div>

    <div class="item" data-desktop-seq-no="4" data-mobile-seq-no="2">
      <img src="https://img.freepik.com/premium-photo/blue-abstract-pattern-with-blue-background_1093939-24642.jpg?semt=ais_hybrid" alt="Image">
    </div>

    <div class="item tm-block-right tm-bg-primary-dark tm-text-white tm-block tm-block-wider tm-block-pad " data-desktop-seq-no="5" data-mobile-seq-no="3">
        <br>
        <h1 id="C2">Projekti</h1>
        <p>šeit ir pieejama saite uz <a href="https://github.com/liva-bosa/portfolio_lb.git">GitHub repozitoriju</a> kur var atrast man projektu</p>
        <br>
        <br>
    </div>

    <div class="item" data-desktop-seq-no="6" data-mobile-seq-no="6">
      <img src="https://img.freepik.com/premium-photo/blue-abstract-pattern-with-blue-background_1093939-24642.jpg?semt=ais_hybrid" alt="Image">
    </div>

  </main>
<script>
  let correctAnswer = 0;

  // Function to generate random math problem
  function generateCaptcha() {
      const num1 = Math.floor(Math.random() * 10) + 1;
      const num2 = Math.floor(Math.random() * 10) + 1;
      const operations = ['+', '-', '*'];
      const operation = operations[Math.floor(Math.random() * operations.length)];
      
      let question = `${num1} ${operation} ${num2} = ?`;
      
      switch(operation) {
          case '+':
              correctAnswer = num1 + num2;
              break;
          case '-':
              correctAnswer = num1 - num2;
              break;
          case '*':
              correctAnswer = num1 * num2;
              break;
      }
      
      document.getElementById('captcha-question').textContent = question;
  }

  // Generate initial CAPTCHA
  generateCaptcha();

  // Form submission handling
  document.querySelector('form').addEventListener('submit', function(e) {
      e.preventDefault();

      const userAnswer = parseInt(document.getElementById('captcha-answer').value);
      const email = document.getElementById('email').value;
      const message = document.getElementById('message').value;

      if (userAnswer === correctAnswer) {
          // CAPTCHA is correct
          console.log('Form data:', {
              email: email,
              message: message
          });
          
          
      } else {
          alert('Nepareiza CAPTCHA atbilde. Lūdzu, mēģiniet vēlreiz.');
          document.getElementById('captcha-answer').value = '';
          generateCaptcha(); // Generate new CAPTCHA after failed attempt
      }
  });

  // Initialize EmailJS with your public key
  emailjs.init("37Zk2vB5_SF7pV1Fu"); // Replace with your actual public key

// Get the form element
const form = document.querySelector('form');

// Add submit event listener to the form
form.addEventListener('submit', function(e) {
    e.preventDefault(); // Prevent the default form submission

    // Get the form data
    const email = document.getElementById('email').value;
    const message = document.getElementById('message').value;

    // Prepare the email parameters
    const templateParams = {
        from_email: email,
        message: message
    };

    // Send the email using EmailJS
    emailjs.send('service_eqt20ra', 'template_96jhzai', templateParams)
        .then(function(response) {
            console.log('SUCCESS!', response.status, response.text);
            alert('Ziņa nosūtīta veiksmīgi!');
            form.reset(); // Clear the form
            this.reset();
          generateCaptcha(); // Generate new CAPTCHA after successful submission
        }, function(error) {
            console.log('FAILED...', error);
            alert('Kļūda sūtot ziņu. Lūdzu, mēģiniet vēlreiz.');
        });
});

</script>
</body>
</html>
